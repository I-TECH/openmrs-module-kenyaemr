<!--
  ~ The contents of this file are subject to the OpenMRS Public License
  ~ Version 1.0 (the "License"); you may not use this file except in
  ~ compliance with the License. You may obtain a copy of the License at
  ~ http://license.openmrs.org
  ~
  ~ Software distributed under the License is distributed on an "AS IS"
  ~ basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing rights and limitations
  ~ under the License.
  ~
  ~ Copyright (C) OpenMRS, LLC.  All Rights Reserved.
-->
<htmlform>

	<style type="text/css">
		table.moh257 {
			border-collapse: collapse;
			background-color: #F3F9FF;
		}
		table.moh257 > tbody > tr > td, table.moh257 > tbody > tr > th {
			border: 1px solid black;
			vertical-align: baseline;
			padding: 4px;
			text-align: left;
		}
	</style>

	<script type="text/javascript">
	var ADULT = 15;
	var CD4COUNT = 5497;
	var CD4PERCENT = 730;
	var WHOSTAGE = 5356;

	var birthDate = new Date(getValue('dob.value'))//.getTime();
	var ENC_DATE = new Date(getValue('encounter-date.value'))//.getTime();

	function onDateStartedChange() {
		var date_started= new Date(getValue('date_started_haart.value'));
		if(date_started &gt; ENC_DATE ) {
			/* Encounter Date should be greater than the Patients's date of Birth    */
			getField('date_started_haart.error').html('Should not be greater than the visit date').show();
		}
		else if(date_started &lt; birthDate )
		{
			/* Encounter Date should be greater than the Patients's date of Birth    */
			getField('date_started_haart.error').html('Should not be less than the date of birth').show();
		}
		else
		{
			getField('date_started_haart.error').hide();
		}

	}

	function onEncounterDateChange() {
		var age=parseInt(getValue('age.value'));
		var today = new Date()//.getTime();        //get current date


		/*this data should not be in Future */
		if (ENC_DATE &gt; today) {
			getField('encounter-date.error').html('Should not be greater than the Current date').show();
		}
		else if(ENC_DATE &lt; birthDate)
		{
			/* Encounter Date should be greater than the Patients's date of Birth    */
			getField('encounter-date.error').html('Should not be less than the date of Birth').show();
		}
		else
		{
			getField('encounter-date.error').hide();
		}

		/* Display the who staging based on the age  */
		if (age &lt; ADULT)
		{
			jq('#initialWhoStageAd').hide()
			jq('#startWhoStageAd').hide()
		}
		else
		{
			jq('#initialWhoStageCh').hide()
			jq('#startWhoStageCh').hide()
		}
	}

	/*Calculate BMI at start of HAART*/
	function calculateStartARTBMI() {
		var display = '';
		var age = parseInt(getValue('age.value'));
		var heightM = parseFloat(getValue('artHeight.value'))  / 100;
		var weightKg = parseFloat(getValue('artWeight.value'));
		if (!isNaN(age)&amp;&amp; age &gt;= ADULT)
		{
			if (!isNaN(weightKg) &amp;&amp;(!isNaN(heightM)))
			{
				var bmi = weightKg / (heightM * heightM);
				display = bmi;
				if (isNaN(bmi) || bmi &lt; 10 || bmi &gt; 50) {
					getField('bmi.error').html('Abnormal value. Where height and height entered correctly?');
					setValue('bmi.value','')
				}
				else {
					setValue('bmi.value',bmi.toFixed(2));// ='BMI:' + bmi.toFixed(2) + '(Adults)';
				}
			}

			jq('#bmi').show();
		}
		else
		{
			jq('#bmi').hide();
		}
	}

	/*
	 Hide or display cd4 entry field
	 */
	function onCd4CountEligibility() {
		if(getValue('cd4_count.value')== CD4COUNT)
		{
			jq('#cd4_count_val').show();
		}
		else
		{
			setValue('cd_count.value','') ;
			jq('#cd4_count_val').hide();
		}
	}

	/*
	 Hide or display cd percent entry field
	 */
	function onCd4PercentEligibility() {
		if(getValue('cd4_percent.value')== CD4PERCENT)
		{
			jq('#cd4_percent_val').show();
		}
		else
		{
			setValue('cd_percent.value','') ;
			jq('#cd4_percent_val').hide();
		}
	}

	/**
	 * Hide or display WHO Stage entry field
	 */
	function onWHOEligibility() {
		var age = parseInt(getValue('age.value'));
		if (getValue('who.value') == WHOSTAGE) {
			if (age &lt; ADULT) {
				jq('#initialWhoStageCh').show();
			}
			else {
				jq('#initialWhoStageAd').show();
			}
		}
		else {
			setValue('el_stage_ch.value','') ;
            setValue('el_stage_ad.value','') ;
			jq('#initialWhoStageCh').hide();
			jq('#initialWhoStageAd').hide();
		}
	}

	jq(function(){
		getField('encounter-date.value').change(onEncounterDateChange);
		onEncounterDateChange();
		getField('artWeight.value').change(calculateStartARTBMI);
		onEncounterDateChange();
		getField('artHeight.value').change(calculateStartARTBMI);
		calculateStartARTBMI();

		onCd4CountEligibility();
		getField('cd4_count.value').change(onCd4CountEligibility);

		onCd4PercentEligibility();
		getField('cd4_percent.value').change(onCd4PercentEligibility);

		onWHOEligibility();
		getField('who.value').change(onWHOEligibility);


		// Validate ART start date

		getField('date_started_haart.value').change(function(){

			var selDate =new Date(getValue('date_started_haart.value')) ;
			var birthDate = new Date(getValue('dob.value'))//.getTime();
			var ENC_DATE=new Date(getValue('encounter-date.value'))//.getTime();

			var start_month;
			var start_year;
			var strCohort = "";
			var monthlist = ["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]

			if (selDate === undefined) {
				getField('date_started_haart.error').hide();
			}
			else {
				start_month = selDate.getMonth();
				start_year = selDate.getFullYear();
				strCohort = monthlist[start_month] + "-" + start_year;

				if (selDate &lt; birthDate) {
					getField('date_started_haart.error').html('Should not be less than the date of birth').show();
				}
				else if (selDate &gt; ENC_DATE) {
					getField('date_started_haart.error').html('Should not be greater than the visit date').show();
				}
				else {
					getField('date_started_haart.error').hide();
				}

			}
			jq('#cohort').html(strCohort);
		});

		//validate date of medical eligibility
		getField('date_Eligible.value').change(function(){

			var selDate = new Date(getValue('date_Eligible.value')) ;
			var birthDate = new Date(getValue('dob.value'))//.getTime();
			var ENC_DATE = new Date(getValue('encounter-date.value'))//.getTime();

			if (selDate === undefined) {
				getField('date_Eligible.error').hide();
			}
			else {
				if (selDate &lt; birthDate) {
					getField('date_Eligible.error').html('Should not be less than the date of birth').show();
				}
				else if (selDate &gt; ENC_DATE) {
					getField('date_Eligible.error').html('Should not be greater than the visit date').show();
				}
				else {
					getField('date_Eligible.error').hide();
				}
			}
		});

		//validate transfer out date
		getField('to_date.value').change(function(){

			var selDate = new Date(getValue('to_date.value')) ;
			var birthDate = new Date(getValue('dob.value'))//.getTime();
			var ENC_DATE = new Date(getValue('encounter-date.value'))//.getTime();

			if (selDate === undefined) {
				getField('to_date.error').hide();
			}
			else {
				if (selDate &lt; birthDate) {
					getField('to_date.error').html('Should not be less than the date of birth').show();
				}
				else if (selDate &gt; ENC_DATE) {
					getField('to_date.error').html('Should not be greater than the visit date').show();
				}
				else {
					getField('to_date.error').hide();
				}
			}
		});

		//validate date died
		getField('date_died.value').change(function(){

			var selDate = new Date(getValue('date_died.value')) ;
			var birthDate = new Date(getValue('dob.value'))//.getTime();
			var ENC_DATE = new Date(getValue('encounter-date.value'))//.getTime();

			if (selDate === undefined) {
				getField('date_died.error').hide();
			}
			else
			{
				if (selDate &lt; birthDate) {
					getField('date_died.error').html('Should not be less than the date of birth').show();
				}
				else if (selDate &gt; ENC_DATE) {
					getField('date_died.error').html('Should not be greater than the visit date').show();
				}
				else {
					getField('date_died.error').hide();
				}
			}
		});

		//validate date interrupted
		getField('interruption_date.value').change(function(){

			var selDate = new Date(getValue('interruption_date.value')) ;
			var birthDate = new Date(getValue('dob.value'))//.getTime();
			var ENC_DATE = new Date(getValue('encounter-date.value'))//.getTime();

			if (selDate === undefined) {
				getField('interruption_date.error').hide();
			}
			else {
				if (selDate &lt; birthDate) {
					getField('interruption_date.error').html('Should not be less than the date of birth').show();
				}
				else if (selDate &gt; ENC_DATE) {
					getField('interruption_date.error').html('Should not be greater than the visit date').show();
				}
				else {
					getField('interruption_date.error').hide();
				}
			}
		});

		//validate date restarted
		getField('date_restarted.value').change(function(){

			var selDate = new Date(getValue('date_restarted.value')) ;
			var birthDate = new Date(getValue('dob.value'))//.getTime();
			var ENC_DATE = new Date(getValue('encounter-date.value'))//.getTime();

			if (selDate === undefined) {
				getField('date_restarted.error').hide();
			}
			else {
				if (selDate &lt; birthDate) {
					getField('date_restarted.error').html('Should not be less than the date of birth').show();
				}
				else if (selDate &gt; ENC_DATE ) {
					getField('date_restarted.error').html('Should not be greater than the visit date').show();
				}
				else {
					getField('date_restarted.error').hide();
				}
			}
		});
	}) ;
	</script>
    <div style="display:none">
        <encounterProvider default="1cc7dc79-ad09-4897-8a1d-0b3d3226e9ee" />
    </div>
	<div class="ke-form-header">
		<table style="width: 100%">
			<tr>
				<td>Date: <encounterDate id="encounter-date" showTime="false"/></td>
				<td>Facility: <encounterLocation  default="GlobalProperty:kenyaemr.defaultLocation"/></td>
			</tr>
		</table>
	</div>
	<div class="ke-form-content">
		<table class="moh257" align="center">
			<tbody>
				<tr>
					<td>
						Patient's Names: <br/><lookup class="value" expression="patient.personName"/>
						Patient Clinic Number:<lookup class="value" complexExpression="#foreach( $patId in $patientIdentifiers.get('Unique Patient Number') ) $patId #end "/>
						Date of Birth: <lookup class="value" id="dob" expression="patient.birthdate"/>
						Age: <lookup class="value" id="age" expression="patient.age"/>
					</td>
				</tr>
				<tr>
					<td style="background-color: #696969; color: #ffffff;">ARV THERAPY</td>
				</tr>
				<tr>
				<td>
				<table>
				<tr>
					<td colspan="3">Date Medically Eligible <obs id="date_Eligible" conceptId="162227AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></td>
				</tr>
				<tr>
					<td>Eligible Thru.?
						<obs id="who" conceptId="162225AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="5356AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="WHO Stage" />
					</td>
					<td>
						<obs conceptId="162225AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="844AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="PCR" />
					</td>
					<td>
						<obs id="cd4_count" conceptId="162225AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
							 answerConceptId="5497AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Cd4 Count" />
						<obs id="cd4_percent" conceptId="162225AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
							 answerConceptId="730AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Cd4%" />
						<obs conceptId="162225AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
							 answerConceptId="160538AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="PMTCT" />
						<obs conceptId="162225AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
							 answerConceptId="162226AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="OPT-B" />
						<obs conceptId="162225AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
							 answerConceptId="162224AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Research" />
					</td>
				</tr>
				<tr>
					<td>
						<!-- <obs conceptId="6796" answerConceptId="6795" answerLabel="WHO Stage" style="checkbox"/> -->
						<span id="initialWhoStageAd">WHO Stage<obs id="el_stage_ad" conceptId="160553AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
																						   answerConceptIds="1204AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1205AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1206AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1207AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1067AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></span>

						<span id="initialWhoStageCh">WHO Stage<obs id="el_stage_ch" conceptId="160553AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
																						   answerConceptIds="1220AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1221AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1222AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1223AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1067AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></span>
					</td>
					<td>
						<!-- <obs conceptId="6796" answerConceptId="6314" answerLabel="CD4 Count" style="checkbox"/> -->
						<span id="cd4_count_val">CD4 Count <obs id="cd_count" conceptId="5497AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" size="3"/></span>
					</td>
					<td>
						<span id="cd4_percent_val">CD4 %<obs  id="cd_percent" conceptId="730AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"  size="3"/></span>
						<!--
						<obs conceptId="6796" answerConceptId="6313" answerLabel="CD4%" style="checkbox"/>
						<obs id="cd4_percent" conceptId="6313" size="3"/>
						<obs conceptId="6796" answerConceptId="6824" answerLabel="PCR" style="checkbox"/>
						<obs conceptId="6824" answerConceptIds="664,703" answerLabels="Neg,Pos"/>
						<obs conceptId="6796" answerConceptId="1359" answerLabel="Research" style="checkbox"/>
						<obs conceptId="6796" answerConceptId="7105" answerLabel="Option B+" style="checkbox"/>
						-->
					</td>
				</tr>
				<tr>
					<obsgroup groupingConceptId="160648AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
						<td>Date Started on 1st Line:<br/><obs id="date_started_haart" conceptId="159599AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></td>
						<td>COHORT: <span id="cohort" style="font-weight:bold"></span></td>
						<td>Regimen:<obs conceptId="162240AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
										 answerConceptIds="792AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,794AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,630AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,84309AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,74807AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,70056AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,80487AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,80586AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,75523AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,78643AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,84795AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,77995AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160104AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160105AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,86663AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,75628AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,79040AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,83412AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,71647AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1652AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161361AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,103166AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,104565AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162201AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,817AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162199AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162200AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
										 answerLabels="D4T/3TC/NVP,
															 LPV/R,
															 AZT/3TC,
															 D4T,
															 DDI,
															 ABC,
															 NELFINAVIR,
															 NVP,
															 EFV,
															 3TC,
															 TDF,
															 IDV,
															 AZT/3TC/EFV,
															 D4T/3TC/EFV,
															 AZT,
															 FTC,
															 LPV,
															 RTV,
															 ATV,
															 3TC/NVP/AZT,
															 3TC/D4T,
															 TDF/3TC,
															 EDF/3TC/EFV,
															 ABC/3TC,
															 EFV/FTC/TDF,
															 3TC/LPV/r/TDF,
															 ABC/3TC/AZT,
															 ABC/NVP/3TC,
															 3TC/ABC/LPV/r"
								/>
						</td>
					</obsgroup>
				</tr>
				<tr>
					<td colspan="3"><br/>At Start of ART:</td>
				</tr>
				<tr>
					<td colspan="3">
						<obsgroup groupingConceptId="160648AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
							Weight(kgs): <obs id="artWeight" conceptId="5089AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							Height(cms): <obs id="artHeight" conceptId="5090AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							<span id="artBMI">BMI (for Adults)<obs id="bmi" conceptId="1342AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/> </span>

													<span id="startWhoStageAd">WHO Stage<obs conceptId="5356AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
																							 answerConceptIds="1204AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1205AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1206AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1207AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1067AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></span>
													<span id="startWhoStageCh">WHO Stage<obs conceptId="5356AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
																							 answerConceptIds="1220AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1221AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1222AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1223AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1067AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></span>
						</obsgroup>
					</td>
				</tr>
				<tr>
					<td colspan="3"><br/>Substitution of ARVs within 1st Line Regimen</td>
				</tr>
				<tr>
					<td>Dates</td>
					<td>Regimen</td>
					<td>Reason(s)</td>
				</tr>
				<tr>
					<obsgroup groupingConceptId="162241AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">

						<td style="vertical-align:top;"><obs conceptId="159599AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" /></td>     <!-- <obs id="sub_fl_date" conceptId="6748" /> -->
						<td style="vertical-align:top;"><obs conceptId="162240AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
															 answerConceptIds="792AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,794AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,630AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,84309AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,74807AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,70056AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,80487AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,80586AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,75523AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,78643AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,84795AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,77995AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160104AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160105AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,86663AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,75628AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,79040AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,83412AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,71647AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1652AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161361AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,103166AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,104565AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162201AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,817AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162199AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162200AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
															 answerLabels="D4T/3TC/NVP,
															 LPV/R,
															 AZT/3TC,
															 D4T,
															 DDI,
															 ABC,
															 NELFINAVIR,
															 NVP,
															 EFV,
															 3TC,
															 TDF,
															 IDV,
															 AZT/3TC/EFV,
															 D4T/3TC/EFV,
															 AZT,
															 FTC,
															 LPV,
															 RTV,
															 ATV,
															 3TC/NVP/AZT,
															 3TC/D4T,
															 TDF/3TC,
															 EDF/3TC/EFV,
															 ABC/3TC,
															 EFV/FTC/TDF,
															 3TC/LPV/r/TDF,
															 ABC/3TC/AZT,
															 ABC/NVP/3TC,
															 3TC/ABC/LPV/r"
								/></td>     <!-- <obs conceptId="6749" /> -->
						<td>      <!-- Reasons -->
							<div style="float: left; padding-right: 20px">
								<obs conceptId="160562AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="102AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="1-Toxicity" style="checkbox" /> <br/>
								<obs conceptId="160562AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="1434AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="2-Pregnancy" style="checkbox"/><br/>
								<obs conceptId="160562AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="160559AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="3-Risk of Pregnancy" style="checkbox"/>  <br/>
								<obs conceptId="160562AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="160567AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="4-New TB" style="checkbox"/>
							</div>
							<div style="float: left">
								<obs conceptId="160562AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="160561AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="5-New Drug" style="checkbox"/> <br/>
								<obs conceptId="160562AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="1754AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="6-Drug out of Stock" style="checkbox"/><br/>
								<obs conceptId="160562AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="7-Other Reasons" style="checkbox"/>
							</div>
						</td>
					</obsgroup>
				</tr>
				<tr>
					<td colspan="3"><br/>Switch to 2nd Line Regimen</td>
				</tr>
				<tr>
					<td>Dates</td>
					<td>Regimen</td>
					<td>Reason(s)</td>
				</tr>
				<tr>
					<obsgroup groupingConceptId="162242AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
						<td style="vertical-align:top;"><obs conceptId="159599AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" /></td>     <!-- <obs id="switch_date" conceptId="6751" /> -->
						<td style="vertical-align:top;"><obs conceptId="162240AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
															 answerConceptIds="792AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,794AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,630AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,84309AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,74807AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,70056AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,80487AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,80586AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,75523AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,78643AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,84795AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,77995AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160104AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160105AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,86663AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,75628AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,79040AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,83412AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,71647AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1652AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161361AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,103166AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,104565AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162201AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,817AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162199AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162200AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
															 answerLabels="D4T/3TC/NVP,
															 LPV/R,
															 AZT/3TC,
															 D4T,
															 DDI,
															 ABC,
															 NELFINAVIR,
															 NVP,
															 EFV,
															 3TC,
															 TDF,
															 IDV,
															 AZT/3TC/EFV,
															 D4T/3TC/EFV,
															 AZT,
															 FTC,
															 LPV,
															 RTV,
															 ATV,
															 3TC/NVP/AZT,
															 3TC/D4T,
															 TDF/3TC,
															 EDF/3TC/EFV,
															 ABC/3TC,
															 EFV/FTC/TDF,
															 3TC/LPV/r/TDF,
															 ABC/3TC/AZT,
															 ABC/NVP/3TC,
															 3TC/ABC/LPV/r"
								/></td>     <!-- <obs conceptId="6782" /> -->
						<td>      <!-- Reasons -->
							<obs conceptId="160568AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="843AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="8-Treatment failure" style="checkbox"/>
							<obs conceptId="160568AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="160566AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="9-Immunologic failure" style="checkbox"/><br/>
							<obs conceptId="160568AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="160569AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="10-Virologic failure" style="checkbox"/>
						</td>
					</obsgroup>
				</tr>
				</table>
				</td>
				</tr>
				<tr>
					<td style="font-weight:bold;">Transfer Out and Death</td>
				</tr>
				<tr>
					<td>
						<table>
							<tr>
								<td>Dates</td>
								<td>Event</td>
								<td>Where?</td>
							</tr>
							<tr>
								<td> <obs id="to_date" conceptId="160649AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/> </td>
								<td>Patient Transferred Out</td>
								<td><obs conceptId="159495AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></td>
							</tr>
							<tr>
								<td><obs id="date_died" conceptId="1543AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/> </td>
								<td>Patient Died</td>
								<td>Cause of Death<!-- <obs conceptId="1663" answerConceptIds="86,84,6562,6611,16,6613,507,5041,123,60,43,6612,6610,102,58,1067,1677,1665,1664,5622" answerLabels="Accident motor vehicle, Accident not otherwise specified,Decline to answer,Disease or Illness,Diarrhea,Injury accident or trauma,Kaposi's sarcoma,Lymphoma,Malaria,Meningitis, nos,Pneumonia,Relating to childbirth,Suicide,Toxicity drug,Tuberculosis,Unknown,Other cns disease,Other hiv related illness,Other non hiv related illness,Other"/> --></td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td style="font-weight:bold;">ART Treatment Interruptions</td>
				</tr>
				<tr>
					<td>
						<table>
							<tr>
								<td>Dates</td>
								<td>Reason for Interruption</td>
								<td>Date Restarted</td>
							</tr>
							<tr>
								<obsgroup groupingConceptId="160740AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
									<td style="vertical-align:top;"><obs id="interruption_date" conceptId="160739AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" /></td>
									<td>
										<obs conceptId="1252AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="102AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="1-Toxicity/Side effects" style="checkbox"/>  <br/>
										<obs conceptId="1252AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="1434AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="2-Pregnancy" style="checkbox"/>  <br/>
										<obs conceptId="1252AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="843AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="3-Treatment failure" style="checkbox"/>  <br/>
										<obs conceptId="1252AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="159598AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="4-Poor adherence" style="checkbox"/>  <br/>
										<obs conceptId="1252AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="5485AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="5-Illness, Hospitalization" style="checkbox"/>  <br/>
										<obs conceptId="1252AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="1754AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="6-Drug out of stock" style="checkbox"/>  <br/>
										<obs conceptId="1252AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="819AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="7-Patient lacks finances" style="checkbox"/>  <br/>
										<obs conceptId="1252AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="160016AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="8-Planned treatment interruptions" style="checkbox"/>  <br/>
										<obs conceptId="1252AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="9-Other patient decision" style="checkbox"/>
										<obs conceptId="1252AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="10-Other" style="checkbox"/>
									</td>
									<td style="vertical-align:top;"><obs id="date_restarted" conceptId="160738AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></td>
								</obsgroup>
							</tr>
						</table>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

	<div class="ke-form-footer">
		<submit />
	</div>

</htmlform>