<!--
  ~ The contents of this file are subject to the OpenMRS Public License
  ~ Version 1.0 (the "License"); you may not use this file except in
  ~ compliance with the License. You may obtain a copy of the License at
  ~ http://license.openmrs.org
  ~
  ~ Software distributed under the License is distributed on an "AS IS"
  ~ basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing rights and limitations
  ~ under the License.
  ~
  ~ Copyright (C) OpenMRS, LLC.  All Rights Reserved.
-->
<htmlform>
    <style>
        .simple-table {
            border: solid 1px #DDEEEE;
            border-collapse: collapse;
            border-spacing: 0;
            font: normal 13px Arial, sans-serif;
        }

        .simple-table thead th {
            background-color: #DDEFEF;
            border: solid 1px #DDEEEE;
            color: #336B6B;
            padding: 10px;
            text-align: left;
            text-shadow: 1px 1px 1px #fff;
        }

        .simple-table td {
            border: solid 1px #DDEEEE;
            color: #333;
            padding: 10px;
            text-shadow: 1px 1px 1px #fff;
        }
    </style>

    <script type="text/javascript" src="../moduleResources/kenyaemr/scripts/moment.js"></script>
    <script type="text/javascript">
        var ctxPath = typeof openmrsContextPath === 'string' ? openmrsContextPath : OPENMRS_CONTEXT_PATH;
        var patientId = <lookup expression="patient.patientId"/>;
        var pAge = parseInt('<lookup expression="patient.age"/>');
        var CIRCUMCISION_DATE =  "<lookup expression="fn.latestObs(163137).getValueDatetime()"/>";

        //On Ready
        $(document).ready(function () {
            //Defaults
            jq('#tbl-adverse-effects').hide();
            jq('#adverse-event-management').hide();
            jq("#medications-selected").hide();
            jq("#tbl-other-medication").hide();
            jq('#event-description-pain').prop('disabled', true);
            jq('#event-description-bleeding').prop('disabled', true);
            jq('#event-description-appearance').prop('disabled', true);
            jq('#event-description-hematoma').prop('disabled', true);
            jq('#event-description-infection').prop('disabled', true);
            jq('#event-description-urinating').prop('disabled', true);
            jq('#event-description-disruption').prop('disabled', true);
            jq('#severity-pain select').prop('disabled', true);
            jq('#severity-bleeding select').prop('disabled', true);
            jq('#severity-appearance select').prop('disabled', true);
            jq('#severity-hematoma select').prop('disabled', true);
            jq('#severity-infection select').prop('disabled', true);
            jq('#severity-urinating select').prop('disabled', true);
            jq('#severity-disruption select').prop('disabled', true);

            jq("#meds-given :input[type=radio]").change(onMedicationsGiven);
            jq('#medication-given :input[type=checkbox]').change(onMedicationSelected);
            jq("#adverse_events :input[type=radio]").change(onAdverseEventsSelected);
            //Autopopulation Severity for selected AE description
            jq('#event-description-pain').change(adverseEventPainSelected);
            jq('#event-description-bleeding').change(adverseEventBleedingSelected);
            jq('#event-description-appearance').change(adverseEventAppearanceSelected);
            jq('#event-description-hematoma').change(adverseEventHematomaSelected);
            jq('#event-description-infection').change(adverseEventInfectionSelected);
            jq('#event-description-urinating').change(adverseEventUrinatingSelected);
            jq('#event-description-disruption').change(adverseEventDisruptionSelected);
            jq('#adverse-event-pain :input[type=checkbox]').change(onPainSelected);
            jq('#adverse-event-bleeding :input[type=checkbox]').change(onBleedingSelected);
            jq('#adverse-event-appearance :input[type=checkbox]').change(onAppearanceSelected);
            jq('#adverse-event-hematoma :input[type=checkbox]').change(onHematomaSelected);
            jq('#adverse-event-infection :input[type=checkbox]').change(onInfectionSelected);
            jq('#adverse-event-urinating :input[type=checkbox]').change(onUrinatingSelected);
            jq('#adverse-event-disruption :input[type=checkbox]').change(onDisruptionSelected);


            if (CIRCUMCISION_DATE) {
                var circDate = Date.parse(CIRCUMCISION_DATE);
                displayCirc = calculateDateSinceCircumcision(new Date(circDate));
                jq('#calculated-days-from-circumcision').val(displayCirc);
            }
        });
        // End on ready

        var onMedicationsGiven = function(){
            var val = jq(this).val();
            if(val == 1065){
                jq("#medications-selected").show();
                }else{
                jq("#medications-selected").hide();
            }
          }
        var onMedicationSelected = function(){
            var val = jq(this).val();
            if(val == 5622 ){
                jq("#tbl-other-medication").show();
            }else {
                jq("#tbl-other-medication").hide();
                getField('other-medication.value').val("");
            }

        }

        //Calculate date since circumcision
        function calculateDateSinceCircumcision(circDate) {
                var today = new Date();
                var encounterDate = Date.parse(getValue('encounter-date.value'));
                var circDateFormatted = circDate.getTime();
                var timeDiff = Math.abs(encounterDate - circDateFormatted);
                daysDiff= Math.floor(timeDiff / (1000 * 60 * 60 * 24));
                return daysDiff;

            }
        var onAdverseEventsSelected = function () {
            getField('adverse_events.error').html('Adverse events should not be empty').hide();
            var val = jq(this).val();
            if(val == 1065 ) {
                jq('#tbl-adverse-effects').show();
                jq('#adverse-event-management').show();
            }
            if(val == 1066 ) {
                jq('#tbl-adverse-effects').hide();
                jq('#adverse-event-management').hide();
                getField('management.value').val("");

            }
        }
        // Adverse event pain selected
        var adverseEventPainSelected = function () {
            var val = jq(this).val();
            if (val == "pain-moderate") {
                getField('severity-pain.value').prop("selectedIndex", 2);
            }
            if (val == "pain-severe") {
                getField('severity-pain.value').prop("selectedIndex", 1);
            }
            if (val == "pain-none") {
                getField('severity-pain.value').prop("selectedIndex", 0);
            }

        }
        // Adverse event bleeding selected
        var adverseEventBleedingSelected = function () {
            var val = jq(this).val();
            if (val == "bleeding-mild") {
                getField('severity-bleeding.value').prop("selectedIndex", 3);
            }
            if (val == "bleeding-moderate") {
                getField('severity-bleeding.value').prop("selectedIndex", 2);
            }
            if (val == "bleeding-severe") {
                getField('severity-bleeding.value').prop("selectedIndex", 1);
            }
            if (val == "bleeding-none") {
                getField('severity-bleeding.value').prop("selectedIndex", 0);
            }
        }
        // Adverse event appearance selected
        var adverseEventAppearanceSelected = function () {
            var val = jq(this).val();
            if (val == "appearance-mild") {
                getField('severity-appearance.value').prop("selectedIndex", 3);
            }
            if (val == "appearance-moderate") {
                getField('severity-appearance.value').prop("selectedIndex", 2);
            }
            if (val == "appearance-severe") {
                getField('severity-appearance.value').prop("selectedIndex", 1);
            }
            if (val == "appearance-none") {
                getField('severity-appearance.value').prop("selectedIndex", 0);
            }
        }
        // Adverse event hematoma selected
        var adverseEventHematomaSelected = function () {
            var val = jq(this).val();
            if (val == "hematoma-mild") {
                getField('severity-hematoma.value').prop("selectedIndex", 3);
            }
            if (val == "hematoma-moderate") {
                getField('severity-hematoma.value').prop("selectedIndex", 2);
            }
            if (val == "hematoma-severe") {
                getField('severity-hematoma.value').prop("selectedIndex", 1);
            }
            if (val == "hematoma-none") {
                getField('severity-hematoma.value').prop("selectedIndex", 0);
            }
        }
        // Adverse event infection selected
        var adverseEventInfectionSelected = function () {
            var val = jq(this).val();
            if (val == "infection-mild") {
                getField('severity-infection.value').prop("selectedIndex", 3);
            }
            if (val == "infection-moderate") {
                getField('severity-infection.value').prop("selectedIndex", 2);
            }
            if (val == "infection-severe") {
                getField('severity-infection.value').prop("selectedIndex", 1);
            }
            if (val == "infection-none") {
                getField('severity-infection.value').prop("selectedIndex", 0);
            }
        }
        // Adverse event trouble urinating selected
        var adverseEventUrinatingSelected = function () {
            var val = jq(this).val();
            if (val == "urinating-mild") {
                getField('severity-urinating.value').prop("selectedIndex", 3);
            }
            if (val == "urinating-moderate") {
                getField('severity-urinating.value').prop("selectedIndex", 2);
            }
            if (val == "urinating-severe") {
                getField('severity-urinating.value').prop("selectedIndex", 1);
            }
            if (val == "urinating-none") {
                getField('severity-urinating.value').prop("selectedIndex", 0);
            }
        }
        // Adverse event wound disruption selected
        var adverseEventDisruptionSelected = function () {
            var val = jq(this).val();
            if (val == "disruption-mild") {
                getField('severity-disruption.value').prop("selectedIndex", 3);
            }
            if (val == "disruption-moderate") {
                getField('severity-disruption.value').prop("selectedIndex", 2);
            }
            if (val == "disruption-severe") {
                getField('severity-disruption.value').prop("selectedIndex", 1);
            }
            if (val == "disruption-none") {
                getField('severity-disruption.value').prop("selectedIndex", 0);
            }
        }
        var onPainSelected = function(){
            var val = jq(this).val();
            var painChecked = jq("#adverse-event-pain input:checkbox:checked");
            if(val == 114403){
                jq('#event-description-pain').prop('disabled', false);
                jq('#severity-pain select').prop('disabled', false);
                jq('#severity-pain').attr("style", "pointer-events:none;");
            }else {
                jq('#event-description-pain').prop('disabled', true);
                jq('#severity-pain select').prop('disabled', true);
            }
        }
        var onBleedingSelected = function(){
            var val = jq(this).val();
            var bleedingChecked = jq("#adverse-event-bleeding input:checkbox:checked");
            if(val == 147241){
                jq('#event-description-bleeding').prop('disabled', false);
                jq('#severity-bleeding select').prop('disabled', false);
                jq('#severity-bleeding').attr("style", "pointer-events:none;");
            }else {
                jq('#event-description-bleeding').prop('disabled', true);
                jq('#severity-pain select').prop('disabled', true);
            }

        }
        var onAppearanceSelected = function(){
            var val = jq(this).val();
            var appearanceChecked = jq("#adverse-event-appearance input:checkbox:checked");
            if(val == 152045){
                jq('#event-description-appearance').prop('disabled', false);
                jq('#severity-appearance select').prop('disabled', false);
                jq('#severity-appearance').attr("style", "pointer-events:none;");
            }else {
                jq('#event-description-appearance').prop('disabled', true);
                jq('#severity-appearance select').prop('disabled', true);
            }

        }
        var onHematomaSelected = function(){
            var val = jq(this).val();
            var hematomaChecked = jq("#adverse-event-hematoma input:checkbox:checked");
            if(val == 156567){
                jq('#event-description-hematoma').prop('disabled', false);
                jq('#severity-hematoma select').prop('disabled', false);
                jq('#severity-hematoma').attr("style", "pointer-events:none;");
            }else {
                jq('#event-description-hematoma').prop('disabled', true);
                jq('#severity-hematoma select').prop('disabled', true);
            }

        }
        var onInfectionSelected = function(){
            var val = jq(this).val();
            var infectionChecked = jq("#adverse-event-infection input:checkbox:checked");
            if(val == 139510){
                jq('#event-description-infection').prop('disabled', false);
                jq('#severity-infection select').prop('disabled', false);
                jq('#severity-infection').attr("style", "pointer-events:none;");
            }else {
                jq('#event-description-infection').prop('disabled', true);
                jq('#severity-infection select').prop('disabled', true);
            }

        }
        var onUrinatingSelected = function(){
            var val = jq(this).val();
            var urinatingChecked = jq("#adverse-event-urinating input:checkbox:checked");
            if(val == 118771){
                jq('#event-description-urinating').prop('disabled', false);
                jq('#severity-urinating select').prop('disabled', false);
                jq('#severity-urinating').attr("style", "pointer-events:none;");
            }else {
                jq('#event-description-urinating').prop('disabled', true);
                jq('#severity-urinating select').prop('disabled', true);
            }

        }
        var onDisruptionSelected = function(){
            var val = jq(this).val();
            var disruptionChecked = jq("#adverse-event-disruption input:checkbox:checked");
            if(val == 163799){
                jq('#event-description-disruption').prop('disabled', false);
                jq('#severity-disruption select').prop('disabled', false);
                jq('#severity-disruption').attr("style", "pointer-events:none;");
            }else {
                jq('#event-description-disruption').prop('disabled', true);
                jq('#severity-disruption select').prop('disabled', true);
            }

        }
        //Before Submit
        beforeSubmit.push(function() {

            var adverseEventsVal = getValue('adverse_events.value');
            var visitType = getValue('visit-type.value');
            var medsGiven = getValue('meds-given.value');
            var dischargedBy = getField('discharged-by.value').val();
            if(visitType == false ){
                getField('visit-type.error').html('Please specify whether patient visit was scheduled').show();
                return false;
            } else {
                getField('visit-type.error').html('Please specify whether patient visit was scheduled').hide();
            }
            if(adverseEventsVal == false ){
                getField('adverse_events.error').html('Please specify whether patient has adverse events').show();
                return false;
            } else {
                getField('adverse_events.error').html('Please specify whether patient has adverse events').hide();
            }
            if(medsGiven == false ){
                getField('meds-given.error').html('Please specify whether patient was given medication').show();
                return false;
            } else {
                getField('meds-given.error').html('Please specify whether patient was given medication').hide();
            }
            if(dischargedBy == "" ){
                getField('discharged-by.error').html('Please specify who discharged the patient').show();
                return false;
            } else {
                getField('discharged-by.error').html('Please specify who discharged the patient').hide();
            }
            return true;

        });

        //Clear hidden sections
        clearHiddenSections = function(parentObj) {
            parentObj.find('input[type=radio]').each(function() {
                this.checked = false;
            });
            parentObj.find('input[type=checkbox]').each(function() {
                this.checked = false;
            });
            parentObj.find('input[type=text]').each(function() {
                jq(this).val("");
            });
            parentObj.find('select').each(function() {
                this.selectedIndex =0;
            });
        }
        </script>
    <ifMode mode="EDIT">
        <script type="text/javascript">
            jq(function(){
                var ADVERSE_EFFECT = getValue('adverse_events.value');
                var MEDS_GIVEN = getValue('meds-given.value');
                 if(ADVERSE_EFFECT == 1065 ) {
                     jq('#tbl-adverse-effects').show();
                     jq('#adverse-event-management').show();
                }
                if(MEDS_GIVEN == 1065){
                    jq("#medications-selected").show();
                }

            });
        </script>
    </ifMode>

    <div class="ke-form-header">
        <table style="width: 100%">
            <tr>
                <td align="left">Encounter Date: <encounterDate id="encounter-date" showTime="true"/> </td>
                <td>VMMC Follow-UP Provider : <encounterProvider default="currentUser" /></td>
                <td align="right">Location:<encounterLocation default="GlobalProperty:kenyaemr.defaultLocation" type="autocomplete"/> </td>
            </tr>
        </table>
    </div>

    <div class="ke-form-content">
         <fieldset id="medical-history">
            <legend>Follow-Up Info </legend>
            <table class ="simple-table">
                <tr>
                    <td>
                        Type of Visit: <span style="color:red;"><strong>*</strong></span>
                    </td>
                    <td>
                        <obs id="visit-type" conceptId="164181AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                              answerConceptIds="1246AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160101AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                             answerLabels="Scheduled,Unscheduled"
                             style="radio"  />
                    </td>
                 </tr>
                <tr>
                    <td>
                        Day since last circumsicion:
                    </td>
                    <td>
                        <input type="text" name="calculated-days-from-circumcision" id="calculated-days-from-circumcision" readonly="True" />
                    </td>
                </tr>
            </table>
         </fieldset>
        <fieldset id="fs-adverse-event">
            <legend>Adverse Event Post Circumcision </legend>
            <table class ="simple-table">
                <tr>
                    <td>
                        <table id="adverse-event">
                            <tr>
                                <td>
                                    Was there an Adverse Event post circumcision (during follow up)?  <span style="color:red;"><strong>*</strong></span>
                                    <obs id="adverse_events" conceptId="162871AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                         answerConceptIds="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                         style="radio" />
                                </td>
                            </tr>
                        </table>
                        <table width="100%" id="tbl-adverse-effects" class="simple-table">
                            <tr>
                                <td>Record any Adverse Events that occurred during Circumscision Procedure:</td>
                                <td>
                                    <table>
                                        <tr>
                                            <th>Type of adverse event</th>
                                            <th>Description</th>
                                            <th>Severity</th>
                                        </tr>
                                                <obsgroup groupingConceptId="121760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                                    <tr>
                                                        <td> <obs conceptId="162875AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                                   answerConceptId="114403AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                                   style="checbox" answerLabel="Pain"
                                                                   id="adverse-event-pain" />
                                                       </td>
                                                        <td>
                                                            <select name="event-description-pain" class="event-description-pain" id="event-description-pain">
                                                                <option value="pain-none">Select</option>
                                                                <option value="pain-moderate">Results in disability for 4-7 days (P2)</option>
                                                                <option value="pain-severe">Results in disability for more than 7 days (P2)</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                        <obs id="severity-pain" conceptId="162760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                             answerConceptIds="1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                             style="dropdown" answerLabels="Severe,Moderate,Mild" />
                                                      </td>
                                                    </tr>
                                                </obsgroup>
                                        <obsgroup groupingConceptId="121760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                            <tr>
                                                <td> <obs conceptId="162875AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                          answerConceptId="147241AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                          style="checbox" answerLabel="Bleeding"
                                                          id="adverse-event-bleeding" />
                                                </td>
                                                <td>
                                                    <select name="event-description-bleeding" class="event-description-bleeding" id="event-description-bleeding">
                                                        <option value="bleeding-none">Select</option>
                                                        <option value="bleeding-mild">Dressing soaked through with blood at a routine follow-up visit (B2)</option>
                                                        <option value="bleeding-moderate">Bleeding that requires a special return to the clinic for medical attention (B2)</option>
                                                        <option value="bleeding-severe">Bleeding that requires surgical re-exploration (B2)</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <obs id="severity-bleeding" conceptId="162760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                         answerConceptIds="1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                         style="dropdown" answerLabels="Severe,Moderate,Mild" />
                                                </td>
                                            </tr>
                                        </obsgroup>
                                        <obsgroup groupingConceptId="121760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                            <tr>
                                                <td> <obs conceptId="162875AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                          answerConceptId="152045AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                          style="checbox" answerLabel="Problems with appearance"
                                                          id="adverse-event-appearance" />
                                                </td>
                                                <td>
                                                    <select name="event-description-appearance" class="event-description-appearance" id="event-description-appearance">
                                                        <option value="appearance-none">Select</option>
                                                        <option value="appearance-mild">May be some concern by client but appearance within normal range (PA2)</option>
                                                        <option value="appearance-moderate">Scarring, costmetic problem but operation not required (PA2)</option>
                                                        <option value="appearance-severe">Rotation or other problem,requires cosmetic correction (PA2)</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <obs id="severity-appearance" conceptId="162760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                         answerConceptIds="1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                         style="dropdown" answerLabels="Severe,Moderate,Mild" />
                                                </td>
                                            </tr>
                                        </obsgroup>
                                        <obsgroup groupingConceptId="121760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                            <tr>
                                                <td> <obs conceptId="162875AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                          answerConceptId="156567AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                          style="checbox" answerLabel="Hematoma/Swelling"
                                                          id="adverse-event-hematoma" />
                                                </td>
                                                <td>
                                                    <select name="event-description-hematoma" class="event-description-hematoma" id="event-description-hematoma">
                                                        <option value="hematoma-none">Select</option>
                                                        <option value="hematoma-mild">More swelling than usual, but no significant discomfort (HS2)</option>
                                                        <option value="hematoma-moderate">Significant tenderness and discomfort, but surgical re-exploration not required (HS2)</option>
                                                        <option value="hematoma-severe">Surgical re-exploration required (HS2)</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <obs id="severity-hematoma" conceptId="162760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                         answerConceptIds="1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                         style="dropdown" answerLabels="Severe,Moderate,Mild" />
                                                </td>
                                            </tr>
                                        </obsgroup>
                                        <obsgroup groupingConceptId="121760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                        <tr>
                                            <td> <obs conceptId="162875AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                      answerConceptId="139510AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                      style="checbox" answerLabel="Infection/Swelling"
                                                      id="adverse-event-infection" />
                                            </td>
                                            <td>
                                                <select name="event-description-infection" class="event-description-infection" id="event-description-infection">
                                                    <option value="infection-none">Select</option>
                                                    <option value="infection-mild">Erythema more than 1 cm beyond incision line (IS2)</option>
                                                    <option value="infection-moderate">Purulent discharge from the wound (IS2)</option>
                                                    <option value="infection-severe">Cellulitis or wound necrosis (IS2)</option>
                                                </select>
                                            </td>
                                            <td>
                                                <obs id="severity-infection" conceptId="162760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptIds="1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     style="dropdown" answerLabels="Severe,Moderate,Mild" />
                                            </td>
                                        </tr>
                                    </obsgroup>
                                        <obsgroup groupingConceptId="121760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                            <tr>
                                                <td> <obs conceptId="162875AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                          answerConceptId="118771AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                          style="checbox" answerLabel="Difficulty or pain when urinating"
                                                          id="adverse-event-urinating" />
                                                </td>
                                                <td>
                                                    <select name="event-description-urinating" class="event-description-urinating" id="event-description-urinating">
                                                        <option value="urinating-none">Select</option>
                                                        <option value="urinating-mild">Transient complaint that resolves without treatment (DU2)</option>
                                                        <option value="urinating-moderate">Partial obstruction (DU2)</option>
                                                        <option value="urinating-severe">Cannot urinate (DU2)</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <obs id="severity-urinating" conceptId="162760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                         answerConceptIds="1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                         style="dropdown" answerLabels="Severe,Moderate,Mild" />
                                                </td>
                                            </tr>
                                        </obsgroup>
                                        <obsgroup groupingConceptId="121760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                            <tr>
                                                <td> <obs conceptId="162875AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                          answerConceptId="163799AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                          style="checbox" answerLabel="Wound disruption (without signs of hematoma or infection)"
                                                          id="adverse-event-disruption" />
                                                </td>
                                                <td>
                                                    <select name="event-description-disruption" class="event-description-disruption" id="event-description-disruption">
                                                        <option value="disruption-none">Select</option>
                                                        <option value="disruption-mild">1 to 2 adjascent stitches missing (WD2)</option>
                                                        <option value="disruption-moderate">Re-stitching of atleast 3 stitches required (WD2)</option>
                                                        <option value="disruption-severe">Patient incapacitated - bed rest required (WD2)</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <obs id="severity-disruption" conceptId="162760AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                         answerConceptIds="1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                         style="dropdown" answerLabels="Severe,Moderate,Mild" />
                                                </td>
                                            </tr>
                                        </obsgroup>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                 <tr id="adverse-event-management">
                     <td>Management of Adverse Events if any:  <br> </br>
                            <obs conceptId="162749AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" rows="3" cols="80" id="management" />
                          </td>
                 </tr>
            </table>
            <table class="simple-table">
                  <tr>
                      <td>Medication given if any: <span style="color:red;"><strong>*</strong></span>
                          &#160;&#160;&#160;&#160;&#160;&#160;
                                    <obs  conceptId="162736AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                          answerConceptIds="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                    style="radio" answerLabels="Yes,No" id="meds-given" />

                                </td>
                           <td>
                              <table id="medications-selected">
                                  <obsgroup groupingConceptId="159392AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                  <tr id="medication-given">
                                        <td>
                                   <obs conceptId="159369AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="103294AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                   answerLabel="Analgesic" style="checkbox" /> <br/>
                                   <obs conceptId="159369AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="1195AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                   answerLabel="Antibiotics" style="checkbox" /> <br/>
                                   <obs conceptId="159369AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="84879AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                   answerLabel="TTCV" style="checkbox" /> <br/>
                                   <obs conceptId="159369AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                   answerLabel="Other" style="checkbox" /> <br/>
                                      <table id="tbl-other-medication" >
                                           <tr>
                                               <td>
                                          Specify:
                                           <obs id="other-medication" conceptId="161011AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" size="50"/>
                                               </td>
                                           </tr>
                                       </table>
                                     </td>
                                    </tr>
                                  </obsgroup>
                              </table>
                          </td>
                      </tr>

                   <tr>
                          <td>Client Reviewed and Discharged by:  <span style="color:red;"><strong>*</strong></span></td>
                           <td><obs conceptId="1473AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" id="discharged-by"  /></td>
                      </tr>
                      <tr>
                          <td>Cadre: </td>

                            <td>  <obs conceptId="1542AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                   answerConceptIds="162591AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162592AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1577AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                   answerLabels="MO,CO,Nurse" id="clinician_cadre" style="radio" />
                            </td>
                      </tr>
                      <tr>
                          <td>
                              Clinical notes:
                          </td>
                          <td>
                              <obs conceptId="160632AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" rows="3" cols="40" id="clinical-notes"/>
                          </td>
                      </tr>

                  </table>

        </fieldset>
        </div>
    <div class="ke-form-footer">
        <submit/>
    </div>

</htmlform>